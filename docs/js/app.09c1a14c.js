(function(t){function e(e){for(var o,s,r=e[0],u=e[1],c=e[2],h=0,d=[];h<r.length;h++)s=r[h],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/noise-machine/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},4355:function(t,e,n){},"51d1":function(t,e,n){"use strict";var o=n("840b"),a=n.n(o);a.a},5567:function(t,e,n){"use strict";var o=n("4355"),a=n.n(o);a.a},"840b":function(t,e,n){},"85b7":function(t,e,n){"use strict";var o=n("89c6"),a=n.n(o);a.a},"89c6":function(t,e,n){},c1c3:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s=n("d4ec"),r=n("bee2"),u=n("262e"),c=n("2caf"),l=n("9ab4"),h=n("60a3"),d=(n("d3b7"),n("25f0"),function(t,e){return Math.floor(Math.random()*(e-t+1))+t}),f=function(t,e,n,o,a){var i=document.createElement("canvas");i.setAttribute("width",e.toString()),i.setAttribute("height",n.toString());var s=i.getContext("2d");if(s){for(var r=s.getImageData(0,0,i.width,i.height),u={r:d(o.r[0],o.r[1]),g:d(o.g[0],o.g[1]),b:d(o.b[0],o.b[1]),a:d(o.a[0],o.a[1])},c=0;c<r.height;c++)for(var l=0;l<r.width;l++){var h=4*(r.width*c+l);0===d(0,a)&&(u.r=d(o.r[0],o.r[1]),u.g=d(o.g[0],o.g[1]),u.b=d(o.b[0],o.b[1]),u.a=d(o.a[0],o.a[1])),r.data[h]=u.r,r.data[h+1]=u.g,r.data[h+2]=u.b,r.data[h+3]=u.a}s.putImageData(r,0,0,0,0,i.width,i.height),t.style.backgroundImage="url(".concat(i.toDataURL(),")")}},p=function(t){Object(u["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(s["a"])(this,n),e.apply(this,arguments)}return Object(r["a"])(n,[{key:"mounted",value:function(){f(this.$el,640,640,{r:[0,24],g:[0,48],b:[0,96],a:[255,255]},16)}}]),n}(h["c"]);p=Object(l["a"])([h["a"]],p);var v=p,b=v,g=(n("5567"),n("2877")),m=Object(g["a"])(b,a,i,!1,null,"d013f13e",null),y=m.exports,O=n("9483");Object(O["a"])("".concat("/noise-machine/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var w=n("8c4f"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h1",[t._v("Noise Machine")]),n("ul",{staticClass:"range-container"},[n("li",[n("h3",[t._v("Volume")]),n("range",{attrs:{min:0,max:1,step:.1,value:t.volume},on:{change:t.setVolume}}),n("span",[t._v(t._s(t.volume))])],1),n("li",[n("h3",[t._v("Roughness")]),n("range",{attrs:{min:1,max:30,step:1,value:t.roughness},on:{change:t.setRoughness}}),n("span",[t._v(t._s(t.roughness))])],1)]),n("button",{staticClass:"form--button",on:{click:t.toggle}},[t._v(t._s(t.playButtonLabel))]),t._m(0)])},k=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("small",[t._v("Noise Machine v1.1 Â© 2020-2021 "),n("a",{attrs:{href:"https://twitter.com/mimonelu",target:"_blank",noreferrer:""}},[t._v("@mimonelu")])])])}],_=function(t,e){return Math.random()*(e-t)+t},x=function(){function t(){var e=this;Object(s["a"])(this,t),this.buffer=null,this.source=null,this.playing=!1;var n=window.AudioContext||window.webkitAudioContext;this.context=new n,window.addEventListener("mousedown",(function(){"running"!==e.context.state&&e.context.resume().then((function(){}))}),!1)}return Object(r["a"])(t,[{key:"prepare",value:function(t){var e=2,n=48e3,o=10*e;this.buffer=this.context.createBuffer(1,n*o,n);for(var a=this.buffer.getChannelData(0),i=0,s=0,r=0,u=a.length;i<u;i++){var c=i/u*Math.PI,l=.1*Math.sin(4*c*e)+.9,h=.1*Math.sin(3*c*e)+.9;i%t.roughness===0&&(r=_(-.25,.25)*h),s+=r*l,s=Math.max(-1,Math.min(1,s)),a[i]=s*t.volume}}},{key:"play",value:function(){this.playing||(this.source=this.context.createBufferSource(),this.source.buffer=this.buffer,this.source.loop=!0,this.source.connect(this.context.destination),this.source.start(this.context.currentTime),this.playing=!0)}},{key:"stop",value:function(){this.source&&this.playing&&(this.source.stop(),this.playing=!1)}}]),t}(),S=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"range"},[n("div",{staticClass:"range__bar"},[n("div",{staticClass:"range__knob"})])])}],E=(n("a9e3"),n("b680"),n("ac1f"),n("1276"),function(t){Object(u["a"])(n,t);var e=Object(c["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.pseudoValue=t.value,t.knobNode=null,t.inputStarted=!1,t}return Object(r["a"])(n,[{key:"mounted",value:function(){this.knobNode=this.$el.querySelector(".range__knob"),this.knobNode&&(this.updateKnobPosition(),"ontouchstart"in window?(this.$el.addEventListener("touchstart",this.onInputStart),document.body.addEventListener("touchmove",this.onInputMove),document.body.addEventListener("touchend",this.onInputEnd)):(this.$el.addEventListener("mousedown",this.onInputStart),document.body.addEventListener("mousemove",this.onInputMove),document.body.addEventListener("mouseup",this.onInputEnd)),window.addEventListener("resize",this.updateKnobPosition))}},{key:"onInputStart",value:function(t){this.inputStarted=!0,this.moveKnob(t)}},{key:"onInputMove",value:function(t){this.inputStarted&&this.moveKnob(t)}},{key:"onInputEnd",value:function(){this.inputStarted=!1}},{key:"moveKnob",value:function(t){var e=this.$el.clientWidth,n=(t.touches?t.touches[0]:t).pageX,o=this.$el.getBoundingClientRect(),a=Math.max(0,Math.min(e,n-o.left));this.pseudoValue=a/e*(this.max-this.min)+this.min,this.updateKnobPosition()}},{key:"updateKnobPosition",value:function(){var t=this.$el.clientWidth;this.pseudoValue=Math.round(this.pseudoValue/this.step)*this.step,this.pseudoValue=Number(this.pseudoValue.toFixed((String(this.step).split(".")[1]||"0").length));var e=(this.pseudoValue-this.min)/(this.max-this.min)*t;this.knobNode&&(this.knobNode.style.left="".concat(e,"px")),this.$emit("change",this.pseudoValue)}}]),n}(h["c"]));Object(l["a"])([Object(h["b"])({default:0})],E.prototype,"min",void 0),Object(l["a"])([Object(h["b"])({default:100})],E.prototype,"max",void 0),Object(l["a"])([Object(h["b"])({default:1})],E.prototype,"step",void 0),Object(l["a"])([Object(h["b"])({default:0})],E.prototype,"value",void 0),E=Object(l["a"])([h["a"]],E);var I=E,$=I,N=(n("51d1"),Object(g["a"])($,S,M,!1,null,"d0850da4",null)),P=N.exports,C=function(t){Object(u["a"])(n,t);var e=Object(c["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.audio=new x,t.volume=.5,t.roughness=15,t}return Object(r["a"])(n,[{key:"created",value:function(){this.loadData()}},{key:"loadData",value:function(){var t=JSON.parse(localStorage.getItem("data")||"{}");t.volume=void 0===t.volume?this.volume:t.volume,t.roughness=void 0===t.roughness?this.roughness:t.roughness,this.setVolume(t.volume),this.setRoughness(t.roughness)}},{key:"saveData",value:function(){localStorage.setItem("data",JSON.stringify({volume:this.volume,roughness:this.roughness}))}},{key:"setVolume",value:function(t){var e=this.volume!==t;this.volume=t,e&&this.audio.playing&&(this.audio.stop(),this.play()),this.saveData()}},{key:"setRoughness",value:function(t){var e=this.roughness!==t;this.roughness=t,e&&this.audio.playing&&(this.audio.stop(),this.play()),this.saveData()}},{key:"toggle",value:function(){this.audio.playing?this.audio.stop():this.play()}},{key:"play",value:function(){this.audio.prepare({volume:this.volume,roughness:this.roughness}),this.audio.play()}},{key:"playButtonLabel",get:function(){return this.audio.playing?"Stop":"Play"}}]),n}(h["c"]);C=Object(l["a"])([Object(h["a"])({components:{Range:P}})],C);var V=C,L=V,D=(n("85b7"),Object(g["a"])(L,j,k,!1,null,"34d6ff64",null)),A=D.exports;o["a"].use(w["a"]);var K=[{path:"/",name:"Home",component:A},{path:"*",component:A}],R=new w["a"]({mode:"history",base:"/noise-machine/",routes:K}),B=R;o["a"].config.productionTip=!1,n("c1c3"),new o["a"]({router:B,render:function(t){return t(y)}}).$mount("#app")}});